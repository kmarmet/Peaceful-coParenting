// Generated by CoffeeScript 2.7.0
var RecordsManager;

import Manager from "./manager";

export default RecordsManager = {
  createCSV: function(data, filename, exportType) {
    var blob, csvRows, headers, i, len, link, row, values;
    // Convert data to CSV format
    csvRows = [];
    headers = Object.keys(data[0]);
    csvRows.push(headers.join(','));
    for (i = 0, len = data.length; i < len; i++) {
      row = data[i];
      if (exportType === "expenses") {
        row.payer = row.payer.name;
        if (row != null) {
          row.shareWith = null;
        }
      }
      if (exportType === "chat") {
        row.readState = null;
      }
      row.id = null;
      values = headers.map(function(header) {
        return row[header];
      });
      csvRows.push(values.join(','));
    }
    // Create a Blob object
    blob = new Blob([csvRows.join('\n')], {
      type: 'text/csv'
    });
    // Create a link element and trigger a click event to download the file
    link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.setAttribute('download', filename);
    document.body.appendChild(link);
    link.click();
    return document.body.removeChild(link);
  }
};

//# sourceMappingURL=recordsManager.js.map
